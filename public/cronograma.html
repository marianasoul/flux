<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedStudios - Cronograma</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <!-- Navega√ß√£o -->
        <nav class="nav">
            <ul>
                <li><a href="/index.html">üè† Dashboard</a></li>
                <li><a href="/cronograma.html" class="active">üìÖ Cronograma</a></li>
                <li><a href="/agenda.html">üìã Agenda</a></li>
                <li><a href="/disciplinas.html">üìö Disciplinas</a></li>
                <li><a href="/professores.html">üë®‚Äçüè´ Professores</a></li>
                <li><a href="/semestre.html">üéì Semestre</a></li>
                <li><a href="/planejamento.html">üìä Planejamento</a></li>
                <li><a href="/progresso.html">üìà Progresso</a></li>
            </ul>
        </nav>

        <!-- Cabe√ßalho da P√°gina -->
        <div class="header">
            <h1>üìÖ Cronograma de Aulas</h1>
            <p style="text-align: center; color: var(--text-gray); margin-bottom: 20px;">Visualize e gerencie seus hor√°rios de aula semanais</p>
            <div style="text-align: center;">
                <button class="btn btn--primary" onclick="showAddForm()">+ Adicionar Aula</button>
            </div>
        </div>

        <!-- Formul√°rio de Adicionar/Editar Aula -->
        <div id="aulaForm" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="formTitle">Adicionar Aula</h3>
                    <button class="modal-close" onclick="hideForm()">√ó</button>
                </div>
                <form id="aulaFormElement" class="form">
                    <input type="hidden" id="aulaId">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="aulaDisciplina">Disciplina</label>
                            <select id="aulaDisciplina" required>
                                <option value="">Selecione uma disciplina</option>
                                <option value="Anatomia Humana">Anatomia Humana</option>
                                <option value="Fisiologia">Fisiologia</option>
                                <option value="Bioqu√≠mica">Bioqu√≠mica</option>
                                <option value="Histologia">Histologia</option>
                                <option value="Embriologia">Embriologia</option>
                                <option value="Gen√©tica">Gen√©tica</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="aulaProfessor">Professor</label>
                            <input type="text" id="aulaProfessor" placeholder="Nome do professor" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="aulaDiaSemana">Dia da Semana</label>
                            <select id="aulaDiaSemana" required>
                                <option value="">Selecione o dia</option>
                                <option value="Segunda">Segunda-feira</option>
                                <option value="Ter√ßa">Ter√ßa-feira</option>
                                <option value="Quarta">Quarta-feira</option>
                                <option value="Quinta">Quinta-feira</option>
                                <option value="Sexta">Sexta-feira</option>
                                <option value="S√°bado">S√°bado</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="aulaTipo">Tipo de Aula</label>
                            <select id="aulaTipo" required>
                                <option value="">Selecione o tipo</option>
                                <option value="Te√≥rica">Te√≥rica</option>
                                <option value="Pr√°tica">Pr√°tica</option>
                                <option value="Laborat√≥rio">Laborat√≥rio</option>
                                <option value="Semin√°rio">Semin√°rio</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="aulaHorarioInicio">Hor√°rio de In√≠cio</label>
                            <input type="time" id="aulaHorarioInicio" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="aulaHorarioFim">Hor√°rio de Fim</label>
                            <input type="time" id="aulaHorarioFim" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="aulaSala">Sala</label>
                        <input type="text" id="aulaSala" placeholder="Ex: Lab 101, Sala 201" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn--success">Salvar Aula</button>
                        <button type="button" class="btn btn--secondary" onclick="hideForm()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Estat√≠sticas -->
        <div class="grid grid--4 mb-30">
            <div class="card card-green">
                <div class="stat-content">
                    <h3 id="totalAulas" style="color: var(--accent-green); font-size: 2rem; margin-bottom: 8px;">24</h3>
                    <p style="color: var(--text-gray); margin: 0;">üìö Total de Aulas</p>
                </div>
            </div>
            <div class="card card-purple">
                <div class="stat-content">
                    <h3 id="aulasSemana" style="color: var(--accent-purple); font-size: 2rem; margin-bottom: 8px;">8</h3>
                    <p style="color: var(--text-gray); margin: 0;">üìÖ Aulas esta Semana</p>
                </div>
            </div>
            <div class="card card-green">
                <div class="stat-content">
                    <h3 id="disciplinasAtivas" style="color: var(--accent-green); font-size: 2rem; margin-bottom: 8px;">6</h3>
                    <p style="color: var(--text-gray); margin: 0;">üéì Disciplinas Ativas</p>
                </div>
            </div>
            <div class="card card-purple">
                <div class="stat-content">
                    <h3 id="cargaHoraria" style="color: var(--accent-purple); font-size: 2rem; margin-bottom: 8px;">32h</h3>
                    <p style="color: var(--text-gray); margin: 0;">‚è∞ Carga Hor√°ria Semanal</p>
                </div>
            </div>
        </div>

        <!-- Cronograma Semanal -->
        <div class="card mb-30">
            <h2 style="color: var(--primary-blue); margin-bottom: 8px;">üìÖ Cronograma Semanal</h2>
            <p style="color: var(--text-gray); margin-bottom: 20px;">Visualiza√ß√£o em grade dos hor√°rios de aula</p>
            <div class="cronograma-container">
                <div class="cronograma-grid" id="cronogramaGrid">
                    <!-- Cronograma ser√° carregado dinamicamente -->
                </div>
            </div>
        </div>

        <!-- Lista de Aulas -->
        <div class="card">
            <h2 style="color: var(--primary-blue); margin-bottom: 8px;">üìã Todas as Aulas</h2>
            <p style="color: var(--text-gray); margin-bottom: 20px;">Lista completa de aulas cadastradas</p>
            <div class="aulas-grid" id="aulasGrid">
                <!-- Aulas ser√£o carregadas dinamicamente -->
            </div>
            
            <!-- Estado Vazio -->
            <div id="emptyState" class="empty-state" style="display: none;">
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 4rem; margin-bottom: 16px;">üìÖ</div>
                    <h3 style="color: var(--text-dark); margin-bottom: 8px;">Nenhuma aula cadastrada</h3>
                    <p style="color: var(--text-gray); margin-bottom: 20px;">Comece adicionando sua primeira aula ao cronograma</p>
                    <button class="btn btn--primary" onclick="showAddForm()">+ Adicionar Primeira Aula</button>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* Estilos espec√≠ficos da p√°gina de cronograma */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: var(--background);
            border-radius: var(--border-radius);
            padding: 24px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .modal-header h3 {
            color: var(--primary-blue);
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-gray);
            padding: 4px;
        }
        
        .modal-close:hover {
            color: var(--danger-red);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .form-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }
        
        .btn--secondary {
            background-color: #f3f4f6;
            color: var(--text-dark);
            border: 1px solid #d1d5db;
        }
        
        .btn--secondary:hover {
            background-color: #e5e7eb;
        }
        
        .cronograma-container {
            background: var(--background);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-light);
            overflow-x: auto;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .cronograma-grid {
            display: grid;
            grid-template-columns: 100px repeat(6, 1fr);
            gap: 2px;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            min-width: 800px;
        }
        
        .cronograma-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-purple));
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cronograma-hora {
            background: var(--card-green);
            padding: 12px;
            text-align: center;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            border-right: 1px solid #e5e7eb;
        }
        
        .cronograma-slot {
            background: var(--background);
            padding: 8px;
            min-height: 80px;
            position: relative;
            transition: background-color 0.2s ease;
        }
        
        .cronograma-slot:hover {
            background: var(--card-green);
        }
        
        .aula-item {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-purple));
            color: white;
            padding: 6px;
            border-radius: 6px;
            font-size: 0.75rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-light);
            margin-bottom: 4px;
        }
        
        .aula-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }
        
        .aula-item.te√≥rica {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-purple));
        }
        
        .aula-item.pr√°tica {
            background: linear-gradient(135deg, var(--success-green), var(--accent-green));
        }
        
        .aula-item.laborat√≥rio {
            background: linear-gradient(135deg, var(--warning-orange), #f59e0b);
        }
        
        .aula-item.semin√°rio {
            background: linear-gradient(135deg, var(--accent-purple), var(--secondary-purple));
        }
        
        .aulas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .aula-card {
            background: var(--background);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-light);
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .aula-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .aula-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        
        .aula-title {
            color: var(--primary-blue);
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
        }
        
        .aula-tipo {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .tipo-teorica {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary-blue);
        }
        
        .tipo-pratica {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-green);
        }
        
        .tipo-laboratorio {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-orange);
        }
        
        .tipo-seminario {
            background: rgba(138, 43, 226, 0.1);
            color: var(--accent-purple);
        }
        
        .aula-info {
            display: grid;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .aula-info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--text-gray);
        }
        
        .aula-info-icon {
            width: 16px;
            text-align: center;
        }
        
        .aula-actions {
            display: flex;
            gap: 8px;
        }
        
        .aula-actions .btn {
            flex: 1;
            padding: 8px 16px;
            font-size: 0.85rem;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .cronograma-grid {
                grid-template-columns: 80px repeat(6, 1fr);
                font-size: 0.8rem;
            }
            
            .cronograma-header,
            .cronograma-hora {
                padding: 8px;
                font-size: 0.75rem;
            }
            
            .aula-item {
                font-size: 0.7rem;
                padding: 4px;
            }
            
            .aulas-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                margin: 20px;
            }
        }
    </style>

    <script>
        // Dados das aulas
        let aulasData = [
            {
                id: 1,
                disciplina: "Anatomia Humana",
                professor: "Dr. Jo√£o Silva",
                diaSemana: "Segunda",
                horarioInicio: "08:00",
                horarioFim: "10:00",
                sala: "Lab 101",
                tipo: "Pr√°tica"
            },
            {
                id: 2,
                disciplina: "Fisiologia",
                professor: "Dra. Maria Santos",
                diaSemana: "Segunda",
                horarioInicio: "10:30",
                horarioFim: "12:00",
                sala: "Sala 201",
                tipo: "Te√≥rica"
            },
            {
                id: 3,
                disciplina: "Bioqu√≠mica",
                professor: "Dr. Carlos Oliveira",
                diaSemana: "Ter√ßa",
                horarioInicio: "14:00",
                horarioFim: "16:00",
                sala: "Lab 102",
                tipo: "Laborat√≥rio"
            },
            {
                id: 4,
                disciplina: "Histologia",
                professor: "Dra. Ana Costa",
                diaSemana: "Quarta",
                horarioInicio: "08:00",
                horarioFim: "10:00",
                sala: "Sala 203",
                tipo: "Te√≥rica"
            },
            {
                id: 5,
                disciplina: "Embriologia",
                professor: "Dr. Pedro Lima",
                diaSemana: "Quinta",
                horarioInicio: "16:00",
                horarioFim: "18:00",
                sala: "Sala 204",
                tipo: "Semin√°rio"
            },
            {
                id: 6,
                disciplina: "Gen√©tica",
                professor: "Dra. Lucia Ferreira",
                diaSemana: "Sexta",
                horarioInicio: "10:00",
                horarioFim: "12:00",
                sala: "Sala 205",
                tipo: "Te√≥rica"
            }
        ];

        let editingAulaId = null;
        const diasSemana = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
        const horarios = ['08:00', '10:00', '12:00', '14:00', '16:00', '18:00'];

        // Fun√ß√£o para carregar cronograma
        function loadCronograma() {
            const grid = document.getElementById('cronogramaGrid');
            grid.innerHTML = '';
            
            // Cabe√ßalho
            grid.appendChild(createDiv('cronograma-header', 'Hor√°rio'));
            diasSemana.forEach(dia => {
                grid.appendChild(createDiv('cronograma-header', dia));
            });
            
            // Hor√°rios e slots
            horarios.forEach(horario => {
                grid.appendChild(createDiv('cronograma-hora', horario));
                
                diasSemana.forEach(dia => {
                    const slot = createDiv('cronograma-slot', '');
                    
                    // Buscar aulas para este hor√°rio e dia
                    const aulasHorario = aulasData.filter(aula => 
                        aula.diaSemana === dia && aula.horarioInicio === horario
                    );
                    
                    aulasHorario.forEach(aula => {
                        const aulaElement = createDiv(`aula-item ${aula.tipo.toLowerCase()}`, 
                            `${aula.disciplina}<br><small>${aula.sala}</small>`);
                        aulaElement.onclick = () => editAula(aula.id);
                        slot.appendChild(aulaElement);
                    });
                    
                    grid.appendChild(slot);
                });
            });
        }

        // Fun√ß√£o para carregar lista de aulas
        function loadAulas() {
            const grid = document.getElementById('aulasGrid');
            const emptyState = document.getElementById('emptyState');
            
            grid.innerHTML = '';
            
            if (aulasData.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            aulasData.forEach(aula => {
                const card = document.createElement('div');
                card.className = 'aula-card';
                card.innerHTML = `
                    <div class="aula-header">
                        <h4 class="aula-title">${aula.disciplina}</h4>
                        <span class="aula-tipo tipo-${aula.tipo.toLowerCase()}">${aula.tipo}</span>
                    </div>
                    
                    <div class="aula-info">
                        <div class="aula-info-item">
                            <span class="aula-info-icon">üë®‚Äçüè´</span>
                            <span>${aula.professor}</span>
                        </div>
                        <div class="aula-info-item">
                            <span class="aula-info-icon">üìÖ</span>
                            <span>${aula.diaSemana} ‚Ä¢ ${aula.horarioInicio} - ${aula.horarioFim}</span>
                        </div>
                        <div class="aula-info-item">
                            <span class="aula-info-icon">üìç</span>
                            <span>${aula.sala}</span>
                        </div>
                    </div>
                    
                    <div class="aula-actions">
                        <button class="btn btn--primary" onclick="editAula(${aula.id})">
                            ‚úèÔ∏è Editar
                        </button>
                        <button class="btn btn--danger" onclick="deleteAula(${aula.id})">
                            üóëÔ∏è Excluir
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
            
            updateStats();
        }

        // Fun√ß√£o para atualizar estat√≠sticas
        function updateStats() {
            document.getElementById('totalAulas').textContent = aulasData.length;
            document.getElementById('aulasSemana').textContent = aulasData.length;
            
            const disciplinasUnicas = [...new Set(aulasData.map(a => a.disciplina))];
            document.getElementById('disciplinasAtivas').textContent = disciplinasUnicas.length;
            
            const cargaTotal = aulasData.reduce((total, aula) => {
                const inicio = new Date(`2000-01-01 ${aula.horarioInicio}`);
                const fim = new Date(`2000-01-01 ${aula.horarioFim}`);
                return total + (fim - inicio) / (1000 * 60 * 60);
            }, 0);
            document.getElementById('cargaHoraria').textContent = `${cargaTotal}h`;
        }

        // Fun√ß√£o auxiliar para criar divs
        function createDiv(className, innerHTML) {
            const div = document.createElement('div');
            div.className = className;
            div.innerHTML = innerHTML;
            return div;
        }

        // Fun√ß√£o para mostrar formul√°rio
        function showAddForm() {
            editingAulaId = null;
            document.getElementById('formTitle').textContent = 'Adicionar Aula';
            document.getElementById('aulaFormElement').reset();
            document.getElementById('aulaForm').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        // Fun√ß√£o para esconder formul√°rio
        function hideForm() {
            document.getElementById('aulaForm').style.display = 'none';
            document.body.style.overflow = 'auto';
            editingAulaId = null;
        }

        // Fun√ß√£o para editar aula
        function editAula(id) {
            const aula = aulasData.find(a => a.id === id);
            if (aula) {
                editingAulaId = id;
                document.getElementById('formTitle').textContent = 'Editar Aula';
                document.getElementById('aulaId').value = aula.id;
                document.getElementById('aulaDisciplina').value = aula.disciplina;
                document.getElementById('aulaProfessor').value = aula.professor;
                document.getElementById('aulaDiaSemana').value = aula.diaSemana;
                document.getElementById('aulaHorarioInicio').value = aula.horarioInicio;
                document.getElementById('aulaHorarioFim').value = aula.horarioFim;
                document.getElementById('aulaSala').value = aula.sala;
                document.getElementById('aulaTipo').value = aula.tipo;
                document.getElementById('aulaForm').style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        // Fun√ß√£o para excluir aula
        function deleteAula(id) {
            if (confirm('Tem certeza que deseja excluir esta aula?')) {
                aulasData = aulasData.filter(a => a.id !== id);
                loadCronograma();
                loadAulas();
            }
        }

        // Manipular envio do formul√°rio
        document.getElementById('aulaFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                disciplina: document.getElementById('aulaDisciplina').value,
                professor: document.getElementById('aulaProfessor').value,
                diaSemana: document.getElementById('aulaDiaSemana').value,
                horarioInicio: document.getElementById('aulaHorarioInicio').value,
                horarioFim: document.getElementById('aulaHorarioFim').value,
                sala: document.getElementById('aulaSala').value,
                tipo: document.getElementById('aulaTipo').value
            };
            
            if (editingAulaId) {
                const index = aulasData.findIndex(a => a.id === editingAulaId);
                if (index !== -1) {
                    aulasData[index] = { ...aulasData[index], ...formData };
                }
            } else {
                const newId = aulasData.length > 0 ? Math.max(...aulasData.map(a => a.id)) + 1 : 1;
                aulasData.push({ id: newId, ...formData });
            }
            
            loadCronograma();
            loadAulas();
            hideForm();
        });

        // Fechar modal ao clicar fora
        document.getElementById('aulaForm').addEventListener('click', function(e) {
            if (e.target === this) {
                hideForm();
            }
        });

        // Carregar dados quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            loadCronograma();
            loadAulas();
        });
    </script>
</body>
</html>