<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda - MedStudios</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos espec√≠ficos da p√°gina com guia de estilo */
        .page-container {
            background-color: var(--background);
            min-height: 100vh;
            padding: 24px;
        }

        .header-section {
            background: linear-gradient(135deg, var(--card-purple) 0%, var(--card-green) 100%);
            border-radius: var(--border-radius);
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: var(--shadow-medium);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .stat-card {
            background-color: var(--background);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow-light);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .stat-card.total::before {
            background: linear-gradient(90deg, var(--accent-purple), var(--card-purple));
        }

        .stat-card.pending::before {
            background: linear-gradient(90deg, #FFB347, #FFA500);
        }

        .stat-card.urgent::before {
            background: linear-gradient(90deg, #FF6B6B, #FF4757);
        }

        .stat-card.completed::before {
            background: linear-gradient(90deg, var(--accent-green), var(--card-green));
        }

        .stat-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .filters-section {
            background-color: var(--background);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: var(--shadow-medium);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            align-items: end;
        }

        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .task-card {
            background-color: var(--background);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow-light);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .task-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .task-card.priority-baixa::before {
            background: linear-gradient(90deg, var(--card-green), var(--accent-green));
        }

        .task-card.priority-media::before {
            background: linear-gradient(90deg, #FFB347, #FFA500);
        }

        .task-card.priority-alta::before {
            background: linear-gradient(90deg, #FF6B6B, #FF4757);
        }

        .task-card.priority-urgente::before {
            background: linear-gradient(90deg, #8B0000, #DC143C);
        }

        .task-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .task-form {
            background-color: var(--background);
            border-radius: var(--border-radius);
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: var(--shadow-medium);
            border: 1px solid rgba(0, 0, 0, 0.05);
            display: none;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: var(--foreground);
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px 16px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            background-color: var(--background);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-green));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), var(--card-green));
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .btn-danger {
            background: linear-gradient(135deg, #FF6B6B, #FF4757);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--text-gray), #9CA3AF);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-pendente {
            background: linear-gradient(135deg, #FFB347, #FFA500);
            color: white;
        }

        .badge-em-andamento {
            background: linear-gradient(135deg, var(--accent-purple), var(--card-purple));
            color: white;
        }

        .badge-concluida {
            background: linear-gradient(135deg, var(--accent-green), var(--card-green));
            color: white;
        }

        .empty-state {
            text-align: center;
            padding: 64px 32px;
            color: var(--text-gray);
        }

        /* Navega√ß√£o atualizada */
        .navbar {
            background: linear-gradient(135deg, var(--background) 0%, var(--card-purple) 100%);
            padding: 16px 24px;
            border-radius: var(--border-radius);
            margin-bottom: 24px;
            box-shadow: var(--shadow-light);
        }

        .navbar ul {
            list-style: none;
            display: flex;
            gap: 24px;
            align-items: center;
            margin: 0;
            padding: 0;
        }

        .navbar a {
            color: var(--foreground);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .navbar a:hover,
        .navbar a.active {
            background-color: var(--accent-purple);
            color: white;
            transform: translateY(-2px);
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .page-container {
                padding: 16px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .tasks-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .filters-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .navbar ul {
                flex-wrap: wrap;
                gap: 12px;
            }
            
            /* Bot√µes responsivos em formul√°rios - seletor corrigido */
            .task-form div[style*="display: flex"] {
                flex-direction: column !important;
                align-items: stretch !important;
                gap: 12px !important;
            }
            
            .task-form .btn {
                width: 100% !important;
                max-width: none !important;
                justify-content: center;
                min-width: auto !important;
            }
        }
        
        @media (min-width: 769px) {
            /* Bot√µes em desktop mant√™m largura autom√°tica */
            .task-form .btn {
                width: auto;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Navega√ß√£o -->
        <nav class="navbar">
            <ul>
                <li><a href="/index.html">üè† Dashboard</a></li>
                <li><a href="/cronograma.html">üìÖ Cronograma</a></li>
                <li><a href="/agenda.html" class="active">üìã Agenda</a></li>
                <li><a href="/disciplinas.html">üìö Disciplinas</a></li>
                <li><a href="/professores.html">üë®‚Äçüè´ Professores</a></li>
                <li><a href="/semestre.html">üéì Semestre</a></li>
                <li><a href="/progresso.html">üìä Progresso</a></li>
                <li><a href="/planejamento.html">üéØ Planejamento</a></li>
            </ul>
        </nav>

        <!-- Cabe√ßalho -->
        <div class="header-section">
            <h1 style="color: var(--foreground); margin-bottom: 8px;">üìã Agenda de Tarefas</h1>
            <p style="color: var(--text-gray); font-size: 18px;">Organize e acompanhe suas tarefas e compromissos acad√™micos</p>
        </div>

        <!-- Estat√≠sticas -->
        <div class="stats-grid">
            <div class="stat-card total">
                <h3 style="color: var(--accent-purple); margin-bottom: 8px;">Total</h3>
                <p style="font-size: 2.5rem; font-weight: 700; color: var(--foreground); margin: 0;" id="totalTarefas">0</p>
                <p style="color: var(--text-gray); font-size: 14px; margin-top: 8px;">Tarefas cadastradas</p>
            </div>
            <div class="stat-card pending">
                <h3 style="color: #FFA500; margin-bottom: 8px;">Pendentes</h3>
                <p style="font-size: 2.5rem; font-weight: 700; color: var(--foreground); margin: 0;" id="tarefasPendentes">0</p>
                <p style="color: var(--text-gray); font-size: 14px; margin-top: 8px;">Aguardando execu√ß√£o</p>
            </div>
            <div class="stat-card urgent">
                <h3 style="color: #FF4757; margin-bottom: 8px;">Urgentes</h3>
                <p style="font-size: 2.5rem; font-weight: 700; color: var(--foreground); margin: 0;" id="tarefasUrgentes">0</p>
                <p style="color: var(--text-gray); font-size: 14px; margin-top: 8px;">Prioridade m√°xima</p>
            </div>
            <div class="stat-card completed">
                <h3 style="color: var(--accent-green); margin-bottom: 8px;">Conclu√≠das</h3>
                <p style="font-size: 2.5rem; font-weight: 700; color: var(--foreground); margin: 0;" id="tarefasConcluidas">0</p>
                <p style="color: var(--text-gray); font-size: 14px; margin-top: 8px;">Finalizadas</p>
            </div>
        </div>

        <!-- A√ß√µes -->
        <div style="margin-bottom: 32px;">
            <button class="btn btn-primary" onclick="showAddForm()">
                ‚ûï Adicionar Nova Tarefa
            </button>
        </div>

        <!-- Formul√°rio de Adicionar/Editar Tarefa -->
        <div id="tarefaForm" class="task-form">
            <h2 id="formTitle" style="color: var(--foreground); margin-bottom: 24px;">Adicionar Tarefa</h2>
            <form id="tarefaFormElement">
                <input type="hidden" id="tarefaId">
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="tarefaTitulo">T√≠tulo da Tarefa</label>
                        <input type="text" id="tarefaTitulo" placeholder="Ex: Estudar Sistema Cardiovascular" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaDisciplina">Disciplina</label>
                        <select id="tarefaDisciplina" required>
                            <option value="">Selecione uma disciplina</option>
                            <option value="Anatomia Humana">Anatomia Humana</option>
                            <option value="Fisiologia">Fisiologia</option>
                            <option value="Bioqu√≠mica">Bioqu√≠mica</option>
                            <option value="Histologia">Histologia</option>
                            <option value="Embriologia">Embriologia</option>
                            <option value="Gen√©tica">Gen√©tica</option>
                            <option value="Geral">Geral</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaTipo">Tipo de Tarefa</label>
                        <select id="tarefaTipo" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Estudo">üìñ Estudo</option>
                            <option value="Prova">üìù Prova</option>
                            <option value="Trabalho">üìÑ Trabalho</option>
                            <option value="Semin√°rio">üé§ Semin√°rio</option>
                            <option value="Relat√≥rio">üìä Relat√≥rio</option>
                            <option value="Pesquisa">üîç Pesquisa</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaDataVencimento">Data de Vencimento</label>
                        <input type="date" id="tarefaDataVencimento" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaPrioridade">Prioridade</label>
                        <select id="tarefaPrioridade" required>
                            <option value="">Selecione a prioridade</option>
                            <option value="Baixa">üü¢ Baixa</option>
                            <option value="M√©dia">üü° M√©dia</option>
                            <option value="Alta">üü† Alta</option>
                            <option value="Urgente">üî¥ Urgente</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaStatus">Status</label>
                        <select id="tarefaStatus" required>
                            <option value="Pendente">‚è≥ Pendente</option>
                            <option value="Em Andamento">üîÑ Em Andamento</option>
                            <option value="Conclu√≠da">‚úÖ Conclu√≠da</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group" style="grid-column: 1 / -1;">
                    <label for="tarefaDescricao">Descri√ß√£o</label>
                    <textarea id="tarefaDescricao" rows="3" placeholder="Descreva os detalhes da tarefa..."></textarea>
                </div>
                
                <div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 24px;">
                    <button type="button" class="btn btn-secondary" onclick="hideForm()">Cancelar</button>
                    <button type="submit" class="btn btn-success">üíæ Salvar Tarefa</button>
                </div>
            </form>
        </div>

        <!-- Filtros -->
        <div class="filters-section">
            <h3 style="color: var(--foreground); margin-bottom: 20px;">üîç Filtros</h3>
            <div class="filters-grid">
                <div class="form-group">
                    <label for="filtroStatus">Status</label>
                    <select id="filtroStatus" onchange="filtrarTarefas()">
                        <option value="">Todos os Status</option>
                        <option value="Pendente">Pendente</option>
                        <option value="Em Andamento">Em Andamento</option>
                        <option value="Conclu√≠da">Conclu√≠da</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="filtroPrioridade">Prioridade</label>
                    <select id="filtroPrioridade" onchange="filtrarTarefas()">
                        <option value="">Todas as Prioridades</option>
                        <option value="Baixa">Baixa</option>
                        <option value="M√©dia">M√©dia</option>
                        <option value="Alta">Alta</option>
                        <option value="Urgente">Urgente</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="filtroDisciplina">Disciplina</label>
                    <select id="filtroDisciplina" onchange="filtrarTarefas()">
                        <option value="">Todas as Disciplinas</option>
                        <option value="Anatomia Humana">Anatomia Humana</option>
                        <option value="Fisiologia">Fisiologia</option>
                        <option value="Bioqu√≠mica">Bioqu√≠mica</option>
                        <option value="Histologia">Histologia</option>
                        <option value="Embriologia">Embriologia</option>
                        <option value="Gen√©tica">Gen√©tica</option>
                        <option value="Geral">Geral</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button class="btn btn-secondary" onclick="limparFiltros()">üóëÔ∏è Limpar Filtros</button>
                </div>
            </div>
        </div>

        <!-- Lista de Tarefas -->
        <div id="tarefasGrid" class="tasks-grid">
            <!-- Tarefas ser√£o carregadas dinamicamente -->
        </div>

        <!-- Estado Vazio -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <h3 style="color: var(--text-gray); margin-bottom: 16px;">üìã Nenhuma tarefa encontrada</h3>
            <p style="color: var(--text-gray); margin-bottom: 24px;">Adicione sua primeira tarefa ou ajuste os filtros para ver resultados.</p>
            <button class="btn btn-primary" onclick="showAddForm()">
                ‚ûï Adicionar Primeira Tarefa
            </button>
        </div>
    </div>

    <script>
        // Estado da aplica√ß√£o
        let tarefasData = [
            {
                id: 1,
                titulo: "Estudar Sistema Cardiovascular",
                descricao: "Revisar anatomia e fisiologia do cora√ß√£o, incluindo estruturas e funcionamento",
                disciplina: "Anatomia Humana",
                tipo: "Estudo",
                dataVencimento: "2024-01-25",
                prioridade: "Alta",
                status: "Pendente"
            },
            {
                id: 2,
                titulo: "Prova de Fisiologia",
                descricao: "Prova sobre sistema respirat√≥rio e circulat√≥rio",
                disciplina: "Fisiologia",
                tipo: "Prova",
                dataVencimento: "2024-01-30",
                prioridade: "Urgente",
                status: "Pendente"
            },
            {
                id: 3,
                titulo: "Relat√≥rio de Laborat√≥rio",
                descricao: "Relat√≥rio sobre experimento de bioqu√≠mica enzim√°tica",
                disciplina: "Bioqu√≠mica",
                tipo: "Relat√≥rio",
                dataVencimento: "2024-01-28",
                prioridade: "M√©dia",
                status: "Em Andamento"
            },
            {
                id: 4,
                titulo: "Semin√°rio sobre Gen√©tica",
                descricao: "Apresenta√ß√£o sobre hereditariedade e muta√ß√µes gen√©ticas",
                disciplina: "Gen√©tica",
                tipo: "Semin√°rio",
                dataVencimento: "2024-02-05",
                prioridade: "Alta",
                status: "Pendente"
            }
        ];

        let editingTarefaId = null;
        let tarefasFiltradas = [...tarefasData];

        // Fun√ß√£o para carregar tarefas
        function loadTarefas() {
            const grid = document.getElementById('tarefasGrid');
            const emptyState = document.getElementById('emptyState');
            
            if (tarefasFiltradas.length === 0) {
                grid.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }
            
            grid.style.display = 'grid';
            emptyState.style.display = 'none';
            grid.innerHTML = '';
            
            tarefasFiltradas.forEach(tarefa => {
                const card = document.createElement('div');
                card.className = `task-card priority-${tarefa.prioridade.toLowerCase()}`;
                
                const dataFormatada = new Date(tarefa.dataVencimento).toLocaleDateString('pt-BR');
                const diasRestantes = Math.ceil((new Date(tarefa.dataVencimento) - new Date()) / (1000 * 60 * 60 * 24));
                
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                        <h4 style="color: var(--foreground); margin: 0; font-size: 18px; font-weight: 600;">${tarefa.titulo}</h4>
                        <span class="badge badge-${tarefa.status.toLowerCase().replace(' ', '-')}">${tarefa.status}</span>
                    </div>
                    
                    <p style="margin: 0 0 16px 0; color: var(--text-gray); font-size: 14px; line-height: 1.5;">${tarefa.descricao}</p>
                    
                    <div style="margin-bottom: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; font-size: 14px;">
                        <div>
                            <strong style="color: var(--foreground);">Disciplina:</strong><br>
                            <span style="color: var(--text-gray);">${tarefa.disciplina}</span>
                        </div>
                        <div>
                            <strong style="color: var(--foreground);">Tipo:</strong><br>
                            <span style="color: var(--text-gray);">${tarefa.tipo}</span>
                        </div>
                        <div>
                            <strong style="color: var(--foreground);">Vencimento:</strong><br>
                            <span style="color: var(--text-gray);">${dataFormatada}</span>
                        </div>
                        <div>
                            <strong style="color: var(--foreground);">Prioridade:</strong><br>
                            <span style="color: ${getPrioridadeColor(tarefa.prioridade)};">${tarefa.prioridade}</span>
                        </div>
                    </div>
                    
                    ${diasRestantes >= 0 ? 
                        `<div style="margin-bottom: 20px; padding: 8px 12px; border-radius: 6px; background-color: ${diasRestantes <= 3 ? 'rgba(255, 107, 107, 0.1)' : 'rgba(32, 178, 170, 0.1)'}; font-size: 14px;">
                            <strong style="color: ${diasRestantes <= 3 ? '#FF4757' : 'var(--accent-green)'};">Dias restantes:</strong> ${diasRestantes}
                        </div>` :
                        `<div style="margin-bottom: 20px; padding: 8px 12px; border-radius: 6px; background-color: rgba(255, 107, 107, 0.1); font-size: 14px;">
                            <strong style="color: #FF4757;">Atrasada por:</strong> ${Math.abs(diasRestantes)} dias
                        </div>`
                    }
                    
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-primary" onclick="editTarefa(${tarefa.id})" style="flex: 1; font-size: 12px; padding: 8px 12px;">‚úèÔ∏è Editar</button>
                        <button class="btn btn-success" onclick="toggleStatus(${tarefa.id})" style="flex: 1; font-size: 12px; padding: 8px 12px;">
                            ${tarefa.status === 'Conclu√≠da' ? 'üîÑ Reabrir' : '‚úÖ Concluir'}
                        </button>
                        <button class="btn btn-danger" onclick="deleteTarefa(${tarefa.id})" style="flex: 1; font-size: 12px; padding: 8px 12px;">üóëÔ∏è Excluir</button>
                    </div>
                `;
                grid.appendChild(card);
            });
            
            updateStats();
        }

        // Fun√ß√µes auxiliares
        function getPrioridadeColor(prioridade) {
            switch(prioridade) {
                case 'Urgente': return '#FF4757';
                case 'Alta': return '#FFA500';
                case 'M√©dia': return 'var(--accent-purple)';
                case 'Baixa': return 'var(--accent-green)';
                default: return 'var(--text-gray)';
            }
        }

        // Fun√ß√£o para atualizar estat√≠sticas
        function updateStats() {
            document.getElementById('totalTarefas').textContent = tarefasData.length;
            document.getElementById('tarefasPendentes').textContent = tarefasData.filter(t => t.status === 'Pendente').length;
            document.getElementById('tarefasUrgentes').textContent = tarefasData.filter(t => t.prioridade === 'Urgente').length;
            document.getElementById('tarefasConcluidas').textContent = tarefasData.filter(t => t.status === 'Conclu√≠da').length;
        }

        // Fun√ß√£o para filtrar tarefas
        function filtrarTarefas() {
            const filtroStatus = document.getElementById('filtroStatus').value;
            const filtroPrioridade = document.getElementById('filtroPrioridade').value;
            const filtroDisciplina = document.getElementById('filtroDisciplina').value;
            
            tarefasFiltradas = tarefasData.filter(tarefa => {
                return (!filtroStatus || tarefa.status === filtroStatus) &&
                       (!filtroPrioridade || tarefa.prioridade === filtroPrioridade) &&
                       (!filtroDisciplina || tarefa.disciplina === filtroDisciplina);
            });
            
            loadTarefas();
        }

        // Fun√ß√£o para limpar filtros
        function limparFiltros() {
            document.getElementById('filtroStatus').value = '';
            document.getElementById('filtroPrioridade').value = '';
            document.getElementById('filtroDisciplina').value = '';
            tarefasFiltradas = [...tarefasData];
            loadTarefas();
        }

        // Fun√ß√£o para mostrar formul√°rio
        function showAddForm() {
            editingTarefaId = null;
            document.getElementById('formTitle').textContent = 'Adicionar Nova Tarefa';
            document.getElementById('tarefaFormElement').reset();
            document.getElementById('tarefaStatus').value = 'Pendente';
            document.getElementById('tarefaForm').style.display = 'block';
            document.getElementById('tarefaForm').scrollIntoView({ behavior: 'smooth' });
        }

        // Fun√ß√£o para esconder formul√°rio
        function hideForm() {
            document.getElementById('tarefaForm').style.display = 'none';
            editingTarefaId = null;
        }

        // Fun√ß√£o para editar tarefa
        function editTarefa(id) {
            const tarefa = tarefasData.find(t => t.id === id);
            if (tarefa) {
                editingTarefaId = id;
                document.getElementById('formTitle').textContent = 'Editar Tarefa';
                document.getElementById('tarefaId').value = tarefa.id;
                document.getElementById('tarefaTitulo').value = tarefa.titulo;
                document.getElementById('tarefaDescricao').value = tarefa.descricao;
                document.getElementById('tarefaDisciplina').value = tarefa.disciplina;
                document.getElementById('tarefaTipo').value = tarefa.tipo;
                document.getElementById('tarefaDataVencimento').value = tarefa.dataVencimento;
                document.getElementById('tarefaPrioridade').value = tarefa.prioridade;
                document.getElementById('tarefaStatus').value = tarefa.status;
                document.getElementById('tarefaForm').style.display = 'block';
                document.getElementById('tarefaForm').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Fun√ß√£o para alternar status
        function toggleStatus(id) {
            const tarefa = tarefasData.find(t => t.id === id);
            if (tarefa) {
                tarefa.status = tarefa.status === 'Conclu√≠da' ? 'Pendente' : 'Conclu√≠da';
                filtrarTarefas();
            }
        }

        // Fun√ß√£o para excluir tarefa
        function deleteTarefa(id) {
            if (confirm('Tem certeza que deseja excluir esta tarefa?')) {
                tarefasData = tarefasData.filter(t => t.id !== id);
                filtrarTarefas();
            }
        }

        // Manipular envio do formul√°rio
        document.getElementById('tarefaFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                titulo: document.getElementById('tarefaTitulo').value,
                descricao: document.getElementById('tarefaDescricao').value,
                disciplina: document.getElementById('tarefaDisciplina').value,
                tipo: document.getElementById('tarefaTipo').value,
                dataVencimento: document.getElementById('tarefaDataVencimento').value,
                prioridade: document.getElementById('tarefaPrioridade').value,
                status: document.getElementById('tarefaStatus').value
            };
            
            if (editingTarefaId) {
                const index = tarefasData.findIndex(t => t.id === editingTarefaId);
                if (index !== -1) {
                    tarefasData[index] = { ...tarefasData[index], ...formData };
                }
            } else {
                const newId = Math.max(...tarefasData.map(t => t.id)) + 1;
                tarefasData.push({ id: newId, ...formData });
            }
            
            filtrarTarefas();
            hideForm();
        });

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            loadTarefas();
        });
    </script>
</body>
</html>