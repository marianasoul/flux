<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedStudios - Dashboard</title>
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MedStudios</h1>
        </div>

        <nav class="nav">
            <ul>
                <li><a href="/" class="active">🏠 Início</a></li>
                <li><a href="/cronograma.html">📅 Cronograma</a></li>
                <li><a href="/agenda.html">📝 Agenda</a></li>
                <li><a href="/planejamento.html">📚 Planejamento</a></li>
                <li><a href="/progresso.html">📊 Progresso</a></li>
                <li><a href="/disciplinas.html">📖 Disciplinas</a></li>
                <li><a href="/professores.html">👨‍🏫 Professores</a></li>
                <li><a href="/semestre.html">🗓️ Semestre</a></li>
            </ul>
        </nav>

        <div class="card text-center mb-30">
            <h2>Bem-vindo ao MedStudios</h2>
            <p>Seu painel de controle acadêmico inteligente</p>
        </div>

        <div class="grid grid--2">
            <!-- Coluna Principal -->
            <div>
                <!-- Calendário -->
                <div class="card card--success mb-20">
                    <h3>📅 Calendário - Janeiro 2024</h3>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <button class="btn btn--primary">‹</button>
                        <span style="font-weight: 500;">Janeiro 2024</span>
                        <button class="btn btn--primary">›</button>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; text-align: center;">
                        <div style="font-weight: 600; color: var(--text-gray);">D</div>
                        <div style="font-weight: 600; color: var(--text-gray);">S</div>
                        <div style="font-weight: 600; color: var(--text-gray);">T</div>
                        <div style="font-weight: 600; color: var(--text-gray);">Q</div>
                        <div style="font-weight: 600; color: var(--text-gray);">Q</div>
                        <div style="font-weight: 600; color: var(--text-gray);">S</div>
                        <div style="font-weight: 600; color: var(--text-gray);">S</div>
                        <div></div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">1</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">2</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">3</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">4</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">5</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">6</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">7</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">8</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">9</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">10</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">11</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">12</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">13</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">14</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">15</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">16</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">17</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">18</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">19</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">20</div>
                        <div style="padding: 8px; background-color: var(--success-green); color: white; border-radius: 4px; font-weight: 600;">21</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">22</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">23</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">24</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">25</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">26</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">27</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">28</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">29</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">30</div>
                        <div style="padding: 8px; cursor: pointer; border-radius: 4px;">31</div>
                    </div>
                </div>

                <!-- Cards de Estatísticas -->
                <div class="grid grid--4">
                    <div class="card card--danger text-center">
                        <h2 id="tarefasUrgentes">3</h2>
                        <p>Tarefas Urgentes</p>
                    </div>
                    <div class="card card--warning text-center">
                        <h2 id="proximasEntregas">5</h2>
                        <p>Próximas Entregas</p>
                    </div>
                    <div class="card card--success text-center">
                        <h2 id="progressoSemanal">85%</h2>
                        <p>Progresso Semanal</p>
                    </div>
                    <div class="card text-center">
                        <h2 id="mediaGeral">8.7</h2>
                        <p>Média Geral</p>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div>
                <!-- Agenda do Dia -->
                <div class="card card--warning mb-20">
                    <h3>📋 Agenda de Hoje</h3>
                    <div style="background-color: #fef3c7; padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; gap: 15px;">
                        <div style="font-weight: 600; color: #92400e; min-width: 60px;">08:00</div>
                        <div>
                            <div style="font-weight: 500; color: #92400e;">Aula de Anatomia</div>
                            <div style="font-size: 0.9rem; color: #a16207;">Sistema Cardiovascular</div>
                        </div>
                    </div>
                    <div style="background-color: #fef3c7; padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; gap: 15px;">
                        <div style="font-weight: 600; color: #92400e; min-width: 60px;">14:00</div>
                        <div>
                            <div style="font-weight: 500; color: #92400e;">Estudar Fisiologia</div>
                            <div style="font-size: 0.9rem; color: #a16207;">Revisão para prova</div>
                        </div>
                    </div>
                    <div style="background-color: #fef3c7; padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; gap: 15px;">
                        <div style="font-weight: 600; color: #92400e; min-width: 60px;">19:00</div>
                        <div>
                            <div style="font-weight: 500; color: #92400e;">Entrega de Trabalho</div>
                            <div style="font-size: 0.9rem; color: #a16207;">Relatório de Histologia</div>
                        </div>
                    </div>
                </div>

                <!-- Notas Importantes -->
                <div class="card card--purple">
                    <h3>📝 Notas Importantes</h3>
                    <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid var(--secondary-purple);">
                        <strong>Prova de Bioquímica:</strong> Revisar metabolismo de carboidratos
                    </div>
                    <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid var(--secondary-purple);">
                        <strong>Seminário:</strong> Preparar apresentação sobre sistema nervoso
                    </div>
                    <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid var(--secondary-purple);">
                        <strong>Lembrete:</strong> Renovar matrícula até 30/01
                    </div>
                </div>
            </div>
        </div>

        <!-- Botões de Ação -->
        <div class="grid grid--4 mt-30">
            <a href="/agenda.html" class="card card--purple text-center" style="text-decoration: none; color: inherit;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">📝</div>
                <h4>Nova Tarefa</h4>
                <p>Adicionar item à agenda</p>
            </a>
            <a href="/disciplinas.html" class="card text-center" style="text-decoration: none; color: inherit;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">📖</div>
                <h4>Gerenciar Disciplinas</h4>
                <p>Organizar matérias do curso</p>
            </a>
            <a href="/cronograma.html" class="card card--warning text-center" style="text-decoration: none; color: inherit;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">📅</div>
                <h4>Adicionar Aula</h4>
                <p>Programar horários</p>
            </a>
            <a href="/professores.html" class="card card--success text-center" style="text-decoration: none; color: inherit;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">👨‍🏫</div>
                <h4>Gerenciar Professores</h4>
                <p>Contatos e informações</p>
            </a>
        </div>
    </div>

    <script>
        // Carregar dados dinâmicos
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardData();
        });

        async function loadDashboardData() {
            try {
                const response = await fetch('/api/dashboard/stats');
                if (response.ok) {
                    const data = await response.json();
                    updateDashboardStats(data);
                }
            } catch (error) {
                console.log('API não disponível, usando dados estáticos');
            }
        }

        function updateDashboardStats(data) {
            if (data) {
                document.getElementById('tarefasUrgentes').textContent = data.urgentTasks || '3';
                document.getElementById('proximasEntregas').textContent = data.upcomingDeadlines || '5';
                document.getElementById('progressoSemanal').textContent = (data.weeklyProgress || 85) + '%';
                document.getElementById('mediaGeral').textContent = data.averageGrade || '8.7';
            }
        }
    </script>
</body>
</html>